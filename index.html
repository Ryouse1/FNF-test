<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Newgrounds Viewer</title>

<style>
body {
  margin: 0;
  background: #111;
  font-family: Arial, sans-serif;
  color: white;
  text-align: center;
}

header {
  padding: 15px;
  background: #222;
  font-size: 18px;
}

.wrapper {
  position: relative;
  width: 100%;
  height: 100vh;
}

iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.fallback {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: none;
}

button {
  padding: 12px 20px;
  font-size: 16px;
  background: orange;
  border: none;
  cursor: pointer;
  border-radius: 6px;
}
</style>
</head>

<body>

<header>
Newgrounds Portal Viewer
</header>

<div class="wrapper">
  <iframe id="ngFrame"
    src="https://www.newgrounds.com/portal/view/770371"
    allowfullscreen>
  </iframe>

  <div class="fallback" id="fallback">
    <p>埋め込みがブロックされました。</p>
    <button onclick="openDirect()">直接開く</button>
  </div>
</div>

<script>
const frame = document.getElementById("ngFrame");
const fallback = document.getElementById("fallback");

setTimeout(() => {
  try {
    if (!frame.contentWindow || frame.contentWindow.length === 0) {
      fallback.style.display = "block";
    }
  } catch (e) {
    fallback.style.display = "block";
  }
}, 2000);

function openDirect() {
  window.open("https://www.newgrounds.com/portal/view/770371", "_blank");
}
</script>

</body>
</html>
